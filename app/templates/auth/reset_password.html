{% extends "base.html" %} {% block content %}
<div class="body-container auth-container">
  <form class="card auth-card" method="POST">
    {{ form.hidden_tag() }}
    <h2 class="auth-title">Reset Password</h2>

    <div class="field">
      <div class="control">{{ form.password(class_="input") }}</div>
    </div>
    <div class="field">
      <div class="control">{{ form.password2(class_="input") }}</div>
    </div>

    {{ form.submit(class_="button is-block is-info is-fullwidth") }} {% if form.password.errors or form.password2.errors
    %}
    <div class="notification is-danger" style="margin-top: 1em">
      {% for field, errors in form.errors.items() %} {% if field == 'password' or field == 'password2' %} {% for error
      in errors %}
      <span>{{ error }}</span>
      {% endfor %} {% endif %} {% endfor %}
    </div>
    {% endif %} {% with messages = get_flashed_messages(category_filter=['error']) %} {% if messages %}
    <div class="notification is-danger" style="margin-top: 1em">{{ messages[0] }}</div>
    {% endif %} {% endwith %} {% with messages = get_flashed_messages(category_filter=['success']) %} {% if messages %}
    <div class="notification is-success" style="margin-top: 1em">{{ messages[0] }}</div>
    {% endif %} {% endwith %}
  </form>
</div>

{% endblock %}
